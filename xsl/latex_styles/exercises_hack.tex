\documentclass[12pt]{article}
\usepackage{fullpage}
\usepackage{tcolorbox}\tcbuselibrary{breakable}
\usepackage{longtable}
\usepackage{blindtext}
\definecolor{_deepskyblue}{HTML}{007090}

\newtcolorbox{clearbox}[1][hbox]{breakable, left=0.5ex, colback=white,colframe=white, #1}
\newtcolorbox{mexbox}[1][hbox]{breakable, left=0.5ex, leftrule=1.5ex, colframe=_deepskyblue!75, colback=_deepskyblue!3, 
#1}

\newcounter{exgroupcol}\newlength{\exwidth}\newcounter{exno}\newcounter{exinrow}

\newenvironment{exercises}{\setcounter{exno}{1}\setcounter{exinrow}{1}}{}
%%%-----

\newenvironment{exercisegroup}[1][1]{
\setcounter{exinrow}{1}\setcounter{exgroupcol}{#1}%
\ifnum\value{exgroupcol}=2%
\setlength{\exwidth}{0.49\textwidth}\else%
\ifnum\value{exgroupcol}=3%
\setlength{\exwidth}{0.3\textwidth}\else%
\ifnum\value{exgroupcol}=4%
\setlength{\exwidth}{0.24\textwidth}\else%
\ifnum\value{exgroupcol}=5%
\setlength{\exwidth}{0.19\textwidth}\else%
\setcounter{exgroupcol}{1}\setlength{\exwidth}{0.99\textwidth}%
\fi\fi\fi\fi
\begin{center}
\begin{longtable}{*{\value{exgroupcol}}{c}}
}{%
\end{longtable}
\end{center}
}

%%%-----
\newcommand{\exercise}[1]{%
{\begin{clearbox}[width=\exwidth]{\noindent~Q\theexno: #1}\end{clearbox}}%
\ifnum\value{exinrow}=\value{exgroupcol}\\\else&\fi% 
\ifnum\value{exinrow}=\value{exgroupcol}\setcounter{exinrow}{0}\fi%
\stepcounter{exinrow}\stepcounter{exno}%
}

\newcommand{\markedexercise}[1]{%
{\begin{mexbox}[width=\exwidth]\noindent Q\theexno: #1\end{mexbox}}%
\ifnum\value{exinrow}=\value{exgroupcol}\\\else&\fi% 
\ifnum\value{exinrow}=\value{exgroupcol}\setcounter{exinrow}{0}\fi%
\stepcounter{exinrow}\stepcounter{exno}%
}
%%%-----



\begin{document}

\begin{exercises}
\begin{exercisegroup}[3]
\exercise{\blindtext}%
\exercise{2b}%
\exercise{\blindtext}
\markedexercise{\blindtext}
\exercise{5e}
\exercise{6f}
\markedexercise{7g}
\exercise{8h}
\exercise{9\blindtext}
\end{exercisegroup}

\Blindtext

\begin{exercisegroup}[2]
\exercise{\blindtext}%
\exercise{2b}%
\exercise{\blindtext}
\markedexercise{\blindtext}
\exercise{5e}
\exercise{6f}
\markedexercise{7g}
\exercise{8h}
\exercise{9\blindtext}
\end{exercisegroup}

\Blindtext
\begin{exercisegroup}
\exercise{\blindtext}%
\exercise{2b}%
\exercise{\blindtext}
\markedexercise{\blindtext}
\exercise{5e}
\exercise{6f}
\markedexercise{7g}
\exercise{8h}
\exercise{9\blindtext}
\end{exercisegroup}


\end{exercises}


\end{document}