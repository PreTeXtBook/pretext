/* This is a crude first attempt at styling ePub output.
 * The goal is to match, as much as practical, our HTML
 * styling. This file was created by stripping the 
 * .mathbook-content part out of every selector in
 * mathbook-add-on.css at the end of April 2018.
 */
body {
    font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
    margin: 0;
    padding: 0;
}

a {
    color: inherit;
    text-decoration: none;
}

/* CSS defult values:
https://www.w3schools.com/cssref/css_default_values.asp
*/

/* the default margin for pre is "1em 0", so we over-ride
so that we can set our own later */
pre {
    margin: 0;
    padding: 0;
    border: none;
}

/* p and other block-level elements should have space at the top, and not the bottom */
h1, h2, h3, h4, h5, h6 {
    margin: 0;
}
p {
    margin-top: 1.25em;
    margin-bottom: 0;
    line-height: 1.35;
}
td > p:first-child {
    margin-top: 0;
}
p.intertext {
    margin-top: -0.25em;
    text-indent: 0;
}

ol, ul {
    margin-bottom: 0;
}
li {
    margin-bottom: 0;
}
figure {
    margin-bottom: 0;
}


.heading {
    margin-top: 0;
    margin-bottom: 0;
}

section article {
    margin-top: 1.25em;
}
section article + article,
section .posterior + article {
    margin-top: 1.75em;
}
article + .hidden-knowl-wrapper {
    margin-top: 1em;
}
article + .posterior {
    margin-top: 0.5em;
}
section .proof {
    margin-top: 0.75em;
}
.sagecell {
    margin-top: 1.25em;
}

section > pre, p + pre {
    margin-top: 1.25em;
}

.conclusion {
    margin-top: 1em;
}
.conclusion > p:first-child {
    margin-top: 0.5em;
}

ol, ul {
    margin-top: 0.75em;
}
dl {
    margin-top: 1em;
}
li {
    margin-top: 0.5em;
}
li > p:first-child {
    margin-top: 0;
}
article p:first-child {
    margin-top: 0;
}

ol ol, ol ul,  ul ol, ul ul {
    margin-top: 0.5em;
}

ol p + p, ul p + p {
    margin-top: 1em;
}

dl dt, dl dd {
    margin-top: 1.5em;
}
dl dd p {
    margin-top: 1em;
}
dl dt > p:first-child, dl dd > p:first-child {
    margin-top: 0;
}

dl dt:first-of-type, dl dd:first-of-type {
    margin-top: 0;
}

.frontmatter > .heading {
    display: block;
    text-align: center;
}
.frontmatter > .heading .title, .book > .heading .title {
    font-size: 1.3em;
}
.frontmatter > .heading .subtitle, .book > .heading .subtitle {
    display: block;
    font-weight: normal;
    color: #666666;
    font-size: 0.875em;
    line-height: 1.42857em;
    margin-top: 0.35714em;
}

.frontmatter .author:first-of-type {
    margin-top: 4em;
}
.frontmatter > p:first-of-type {
    margin-top: 4em;
}
.frontmatter > .author,
.frontmatter > .credit {
    margin-top: 2em;
    text-align: center;
}
.frontmatter .date {
    display: block;
    margin-top: 2em;
    text-align: center;
}
.frontmatter .credit .title {
    font-size: 1em;
}
.frontmatter .credit .author {
    font-size: 0.9em;
}
.frontmatter .author-info {
    font-size: 90%;
}
.frontmatter a[href^="mailto:"] {
    font-size: 110%;
}
a[href^="mailto:"] {
    font-style: normal;
    font-family: monospace;
}
/* look into where .preface and .frontmatter are used */
.preface a[href^="mailto:"] {
    font-size: 110%;
}


article > .heading + p {
    margin-top: 0;
}
/* go back and delete the header case when no longer needed */
section .heading + p, section header + p,
section .blob > p:first-child,
section .permalink + p {
    margin-top: 0.25em;
}
section .heading + article, section header + article {
    margin-top: 1em;
}

a > .heading { display: inline;}

section .heading,
article .heading {
    font-family: "PT Serif", "Times New Roman", Times, serif;
    font-weight: 700;
    color: inherit;
}
/*
a article .heading {
    font-weight: 500;
}
*/

section .heading {
    font-size: 1.75em;
    line-height: 1.42857em;
    margin-top: 1em;
}
section section .heading {
    font-size: 1.5em;
    line-height: 1.25em;
    margin-top: 1em;
}
section section section .heading {
    font-size: 1.40em;
    line-height: 1.15em;
    margin-top: 0.75em;
}


section article .heading,
section section article .heading,
.abstract .heading {
    font-size: 1.125em;
    line-height: 1.125em;
    margin-top: 0;
    display: inline;
}
/* Currently only for Solution to example */
.posterior .heading {
    font-weight: normal;
    font-size: 1.125em;
    line-height: 1.125em;
    margin-top: 0;
}
/* trmporary: heading is not type */
section figcaption .heading, section section figcaption .heading {
    font-size: 1.125em;
    line-height: 1.125em;
    margin-top: 0;
}

.heading.hide-type > .type {
    display: none;
}

.heading > .type + .codenumber::before {
    content: " ";
}
section .heading > .codenumber:not(:empty) + .title::before {
    content: " \2009";
}


/*
 * Contents of articles
 */
section article .heading + p {
    display: inline;
}
/*
section article .heading + p .mjx-chtml,
section article .heading + p .mjx-math {
    display: inline !important;
}
*/
section article.assemblage-like .heading + p {
    display: block;
}
section article.theorem-like p,
section article.theorem-like li {
    font-style: italic;
}

/*
 *  .hiddenproof
 */

/* knowlified proofs are in an article.hiddenproof */
/* .hiddenproof .heading,   ???? can't happen, because the a does the hiding? */
.hiddenproof > a > .heading {
    font-style: italic;
    font-weight: normal;
}
.hiddenproof > a > .heading > .type::after {
    content: ".";
}
/*
.hiddenproof > a > .heading:after {
    content: ".";
}
*/

/*
  main knowls style
*/

/*
[knowl], [knowl]:hover, [knowl].active {
*/
[knowl] {
    display: inline;
    position: relative;
    cursor: pointer;
    color: #9c2310;
    padding: 0px 2px 0px 2px;
    margin: 0;
    text-decoration: none;
    margin-bottom: 1px;
/*
    margin-bottom: 0;
*/
    font-weight: 500;
    white-space: nowrap;
    border-bottom: none;
    -moz-border-radius-topleft: 3px;
    -webkit-border-top-left-radius: 3px;
    border-top-left-radius: 3px;
    -moz-border-radius-topright: 3px;
    -webkit-border-top-right-radius: 3px;
    border-top-right-radius: 3px;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
    -webkit-transition-property: background-color;
    -moz-transition-property: background-color;
    -o-transition-property: background-color;
    transition-property: background-color;
    -webkit-transition-duration: 0ms;
    -moz-transition-duration: 0ms;
    -o-transition-duration: 0ms;
    transition-duration: 0ms;
}

[knowl]:hover, [knowl]:active, [knowl].active {
    color: #8a1200;
    background: #ffedeb;
/*
    margin-bottom: 0;
*/
    border-bottom: none;
}

[knowl]::after, [knowl]:hover::after, [knowl].active::after {
    content: "";
    position: absolute;
    top: 0;
    bottom: 1px;
    right: 2.4px;
    left: 2.4px;
    border-bottom: 1px dotted #9c2310;
    -webkit-transition-property: left, right;
    -moz-transition-property: left, right;
    -o-transition-property: left, right;
    transition-property: left, right;
    -webkit-transition-duration: 0ms;
    -moz-transition-duration: 0ms;
    -o-transition-duration: 0ms;
    transition-duration: 0ms;
    z-index: 0;
}

.knowl-error {
   color: red;
   border-bottom: 0;
}
.knowl-output {
    background: #f5f5ff;
    border-top: 10px solid #ddf;
    border-left: 10px solid #ddf;
    border-right: 10px solid #ddf;
    border-bottom: 10px solid #ddf;
    border-top-left-radius: 10px;
    -moz-border-radius-topleft: 10px;
    border-bottom-left-radius: 10px;
    -moz-border-radius-bottomleft: 10px;
    border-bottom-right-radius: 10px;
    -moz-border-radius-bottomright: 10px;
    border-top-right-radius: 10px;
    -moz-border-radius-topright: 10px;
    display: none;
    display: none;
    padding: 0px;
    margin-top: 10px;
/*
    margin-bottom: 0px;
*/
    margin-right: 0px;

}
.knowl-output .knowl-output, .knowl-output .knowl-output.loading {
    margin-left: 0;
    margin-right: 0;
}
.knowl-output .knowl-output {
    border-width: 6px;
    background: #fffff5;
    -webkit-border-radius: 4px;
    -moz-border-radius: 4px;
    -ms-border-radius: 4px;
    -o-border-radius: 4px;
    border-radius: 4px;
    margin-bottom: -3px;
    margin-left: -7px;
    margin-right: -7px;
}
.knowl-output .knowl-output .knowl-output {
    background: #fff5fe;
}
.knowl-output .knowl-output .knowl-output .knowl-output {
    background: #ffffff;
}
.knowl-footer {
  position: relative;
  bottom: -9px;
  font-size: x-small;
  background: #ddf;
  color: grey;
  padding: 0 0 0 12px;
  margin:  -10px 0 0 0;
}
.knowl-footer a {
  color: #006;
}
.knowl-footer a:hover {
  background: none;
  color: #88f;
}
.knowl-footer:after {
    content: "\2002";
}

.knowl-output .knowl-output .knowl-footer {
  bottom: -5px;
  margin:  -5px 0 0 0;
}

.knowl-output + .knowl-output {
    margin-top: 0;
}
.knowl-content {
    padding: 10px;
    padding-bottom: 7px;
}
.knowl-content > *:first-child {
    margin-top: 0;
}

/* this needs to be first, because we want any background to
   over-rule this.
   this is for the "layering" of asides and other
*/

p {
    background-color: #fff; 
/*    
    box-shadow: 0 0 0.5em 0.2em #fff;
    put this back after the major CSS refactor
*/
}
.heading {
    background-color: #fff; 
}
section > pre, p + pre {
    background-color: #fff; 
}

/* un-do the above for environments with colored background */
.assemblage-like p,
.assemblage-like .heading,
.assemblage-like pre,
.aside-like p,
.aside-like .heading,
.aside-like pre,
.knowl-output p, 
.knowl-output .heading,
.knowl-output pre,
*[knowl] p,
*[knowl] .heading,
*[knowl] pre {
    background-color: inherit; 
    box-shadow: none;
}

/* end of layering colors */

/*
Greg's L

The not(:first-child) is primarily for the case of a knowl that
contains only a theorem or definition.

In good writing, can a section start with a Theorem?
(apparently I think not)

*/

.proof > .heading {
  font-style: italic;
  font-weight: normal;
  /* It helps to have a little bit of extra space after proof */
  margin-right: 0.75em;
}

/* 
supplied by the general .type:after for headings
.proof > .heading:after {
  content: ". ";
}
*/

.proof {
  border-right: 1px solid #666;
  padding-right: 0.625em;
  margin-right: -0.725em;
}
.proof:after {
  content: '';
  border-bottom: 1px solid #666;
  display: block;
  margin-left: auto;
  margin-right: -0.625em;
  /* so the corner of the L meets */
  width: 1.5em;
  padding-bottom: 0.25em;
}

.proof .proof {
  margin-right: -0.2em;
  border-right: 1.5px solid #ddd;
}
.proof .proof:after {
  border-bottom: 1.5px solid #ddd;
  width: 1em;
}

article.theorem-like:not(:first-child),
article.definition-like:not(:first-child),
article.example-like:not(:first-child),
article.objectives:not(:first-child),
article.remark-like:not(:first-child) {
    padding-left: 0.4em;
    border-left: 1px solid #569;
}

article.theorem-like:not(:first-child)::after,
article.definition-like:not(:first-child)::after,
article.objectives:not(:first-child)::after,
article.example-like:not(:first-child)::after,
article.remark-like:not(:first-child)::after {
    content:'';
    border-bottom: 1px solid #569;
    display: block;
    margin-right: auto;
    margin-left: -0.4em;
    padding-top: 0.25em;
    width: 1.5em;
}




section p.credit + p.credit {
    margin-top: 0.25em;
}
section p.credit > .title {
    font-weight: 700;
    margin-right: 0.5em;
}
section p.credit > .title::after {
    content: ": ";
}

section p.copyright {
    margin-top: 2.5em;
}
section p.license {
    margin-top: 2.5em;
}

body > a.assistive {
	padding:6px;
	position: absolute;
	top:-40px;
	left:0px;
	color:white;
	border-right:1px solid white;
	border-bottom:1px solid white;
	border-bottom-right-radius:8px;
	background:transparent;
	-webkit-transition: top 1s ease-out, background 1s linear;
    transition: top 1s ease-out, background 1s linear;
    z-index: 100;
}

body > a.assistive:focus {
	position:absolute;
	left:0px;
	top:0px;
	background:#BF1722;
	outline:0;	
	-webkit-transition: top .1s ease-in, background .5s linear;
    transition: top .1s ease-in, background .5s linear;
}


#masthead .banner {
    border-bottom: 1px solid #d4d4d4;
    border-top: 1px solid transparent;
    overflow: hidden;
    padding-top: 0.625em;
    padding-bottom: 1.125em;
}

/* newer, small top nav buttons */
#masthead.smallbuttons #primary-navbar .navbar-top-buttons .toolbar-align-right .toolbar-item-middle {
    float: left;
    padding: 3px 6px 3px 6px;
    margin: 4px 10px 0px 10px;
    margin: 4px 10px 0px 195px;
    border: 1px solid #800;
    background-color: #ffe5e5;
    font-size: 90%;
}

#masthead.smallbuttons #primary-navbar .navbar-top-buttons .toolbar-align-right .toolbar-item-middle a {
    color: #024;
}

#masthead.smallbuttons {
    max-width: 904px;
    border-right: 1px solid #bababa;
}

/*
 * .navbar #primary-navbar {
 *     background: #fafafa;
 *         border-bottom: none;
 *         }
 *         */
#masthead.smallbuttons #primary-navbar .navbar-top-buttons {
    border-bottom: 1px solid #bababa;
}
#masthead.smallbuttons .banner {
    border-bottom: none;
}

#masthead.smallbuttons #primary-navbar .navbar-top-buttons .toolbar-divisor-3 .button {
    border-top: 1px solid #bababa;
}

#masthead.smallbuttons #primary-navbar .navbar-top-buttons .toolbar-divisor-3 {
    background-color: #fafafa;
}
#masthead.smallbuttons #primary-navbar .navbar-top-buttons .toolbar-divisor-3 .index-button {
    width: 70px;
    text-align: center;
    border-right: 1px solid #bababa;
}
#masthead.smallbuttons #primary-navbar .navbar-top-buttons .toolbar-divisor-3 .up-button {
    width: 60px;
    float: right;
    border-right: 1px solid #bababa;
}
#masthead.smallbuttons #primary-navbar .navbar-top-buttons .toolbar-divisor-3 .up-button:before {
    text-align: left;
    width: 20px;
}
#masthead.smallbuttons #primary-navbar .navbar-top-buttons .toolbar-divisor-3 .previous-button.toolbar-item {
    width: 70px;
    border-right: none;
    float: right;
}
/* extra .toolbar-item to overrive mathbook-add-on */
#masthead.smallbuttons #primary-navbar .navbar-top-buttons .toolbar-divisor-3 .previous-button.toolbar-item {
    border-left: 1px solid #bababa;
    padding-right: 3px;
}
#masthead.smallbuttons #primary-navbar .navbar-top-buttons .toolbar-divisor-3 .next-button {
    width: 70px;
    float: right;
    border-right: 1px solid #bababa;
}
#masthead.smallbuttons #primary-navbar .previous-button::before {
    width: 27px;
}
#masthead.smallbuttons #primary-navbar .next-button::after {
    width: 25px;
}

#masthead.smallbuttons #primary-navbar .threebuttons {
    float: right;
}

#masthead.smallbuttons #primary-navbar .navbar-top-buttons .toolbar-divisor-3 .threebuttons .next-button, #masthead.smallbuttons #primary-navbar .navbar-top-buttons .toolbar-divisor-3 .threebuttons .up-button, #masthead.smallbuttons #primary-navbar .navbar-top-buttons .toolbar-divisor-3 .threebuttons .previous-button {
    float: left;
}

.collectedworks .knowl-output {
    border: 12px 
    solid #D6E3FF;
    background: none repeat scroll 0% 0% #FAFCFF;
    border-radius: 4px;
    margin-bottom: 1.25em;
}

.collectedworks .subjectwork {
    max-width: 750px;
}

.collectedworks .bib {
    margin-bottom: 1em;
}

.collectedworks .bibitem + .bibentry {
    display: inline;
}

.collectedworks .bibitem {
    display: inline;
    font-weight: bold;
    margin-right: 1em;
}
.collectedworks .work .title a {
    text-decoration: none;
    color: #009;
}
.collectedworks .work .title {
}

/* see http://pretextbook.org/examples/sample-book/html/references-1.html */
.bibitem + .bibentry {
    display: inline-block;
    width: 90%;
}
.bibitem {
    display: inline-block;
    vertical-align: top;
    width: 7%;
    margin-right: 0;
}
/*
.bibitem {
    float: left;
}
.bibitem {
    clear: left;
}
*/

#primary-navbar .navbar-top-buttons .toolbar-align-right .toolbar-item {
   /* for the prev/next svg from SL2X */
    margin-top: -8px;
    border-left: 0;
}

#primary-navbar .navbar-top-buttons .toolbar-align-right {
   /* also for the prev/next svg from SL2X */
    border-right: 0;
}

#primary-navbar .navbar-top-buttons .toolbar-align-right .toolbar-item-left {
    float: left;
    padding: 3px 6px 3px 6px;
    margin: 4px 10px 0px 5px;
    border: 1px solid #aaf;
    background-color: #def;
/*
    border: 1px solid #aaf;
    margin: 8px 10px 0px 10px;
*/
    font-size: 90%;
}

#primary-navbar .navbar-top-buttons .toolbar-align-right .toolbar-item-left a {
    color: #00a;
/*
    padding: 3px 6px 3px 6px;
    margin: 4px 10px 0px 5px;
    margin: 0;
    border: 1px solid #aaf;
    background-color: #def;
*/
}


#feedback {position: relative;
        margin-top: 30px; /* negative value of footer height */
        height: 30px;
        margin-left: 30px;
        font-size: 70%;
        text-align: bottom;
        clear:both;
} 

figcaption {
    font-weight: normal;
}

figcaption {
    margin-top: 10px;
    margin-left: auto;
    margin-right: auto;
/*  Commenting this out because the initial letter of some captions were cut off
    text-indent: -30px;
*/
}

/* delete the figcaption .heading once refactoring is complete */
figcaption .heading,
section figcaption .heading,
section figcaption .codenumber,
section figcaption .type {
    font-weight: 700;
    font-size: inherit;
}

figcaption .heading + .codenumber::before,
figcaption .type + .codenumber::before {
    content: " ";
}

figcaption .codenumber:after {
    content: "";  /* en space */
}

figcaption .codenumber:last-child:after {
    display: inline;
    content: " ";
}

.definition-like p > em {
    font-weight: 700;
}
em.alert {
    font-weight: bold;
}

.unprocessed {
    padding: 8px;
    background-color: rgb(255,230,230)
}

.unprocessed .unprocessed {
    margin: 8px;
    background-color: rgb(255,200,255)
}

.unprocessed .unprocessed .unprocessed {
    margin: 8px;
    background-color: rgb(205,205,255)
}

/* does this apply anywhere? */

/*
*[knowl] {
  border-bottom: 1px dotted #00a;
}
*/

#toc h2 + h2 {
    margin-top: 0.3em;
}

h2:last-child {
/* for the chapter pages with section links at the bottom */
    margin-bottom: 100px;
}

section.introduction + section {
    margin-top: 2em;
}

.paragraphs .heading {
    display: inline;
}

.paragraphs .heading .title:not(:empty):after {
    content: ".\2002";  /* en space */
}

.paragraphs .heading + p {
    display: inline;
}

/* obsolete once paragraph spacing refactored */
.paragraphs .heading + p:after {
    content: "";
    display: block;
    margin-bottom: 1.25em;
}
/*
.paragraphs p:last-child::after {
    margin-bottom: 0;
}
*/


/* the next are to avoid styping a p as inline, because
 * inline styling messes up the meaning of line-height.
 * */

.paragraphs p .title {
    font-family: "PT Serif", "Times New Roman", Times, serif;
    font-size: 1.125em;
    font-weight: 700;
}

.paragraphs p .title:after {
    content: ".\2002";
}

.paragraphs p .heading {
    display: inline;
}

section .paragraphs .heading {
    margin-top: 0;
}

/*
section .paragraphs {
    margin-top: 0em;
}
*/

section .paragraphs + .paragraphs {
    margin-top: 3em;
}

h6 {
    line-height: 1em;
}

.sidebyside > p, .sidebyside > figure, .sidebyside > img, .sidebyside > table, .sidebyside > tabular, .sidebyside > .paragraphs {
    display: inline-block;
    margin: 0;
}

.sidebyside > figure:after {
     content:'';
}

.sidebyside figcaption {
    padding-left: 1em; 
    padding-right: 0;
    padding-bottom: 0;
    margin: 0.75em 0 0 0;
}

.sidebyside figcaption .heading, .sidebyside figcaption .codenumber {
    font-weight: 700;
}

.sidebyside figcaption .heading:after {
    content: "\00a0";
}

figcaption .codenumber{
    font-family: "PT Serif", "Times New Roman", Times, serif;
}
.sidebyside figcaption .codenumber:after {
    content: "\2002";  /* en space */
}

.sidebyside figcaption .codenumber:last-child:after {
    display: inline;
    content: " ";
}


.sidebyside > p {   /* what about sbspanel? */
    width: 32%;
    vertical-align: top;
}

.sidebyside > p.left, .sidebyside > p.middle, .sidebyside > p.right {
    vertical-align: middle;
}

.sidebyside > p + img {
    vertical-align: middle;
}

/*
.sidebyside {
    margin-bottom: 0;
}
.sidebyside p:only-child {
    margin-bottom: 0;
}
.sidebyside p:last-child {
    margin-bottom: 0;
}
*/


.sidebyside .sbsrow .sbsheader {
    margin-top: 0;
}

.sbsgroup {
    width: 100%;
}

.sidebyside {
    width: 100%;
}

/* see Ex 29 https://yoshiwarabooks.org/linear-functions.html 
and ex 2.91 in 
https://yoshiwarabooks.org/mfg/MathModels.html */
p + .sidebyside,
ol + .sidebyside,
ul + .sidebyside {
    margin-top: 1em;
}

.sbsrow {
    display: flex;
    justify-content: space-between;
}
/*
.sbsrow:last-child {
    padding-bottom: 1em;
}
*/

/* Components of three types of "sbsrow" */

/* titles, totally centered text */
.sbsheader {
    text-align: center;
    justify-content: center;
    font-size: 1em;
}

/* containers of desired width for actual content */
.sbspanel {
    display: flex;
    flex-direction: column;
}
.sbspanel > p:first-child {
    margin-top: 0;
}

/* fixed-width items are centered horizontally in their panel */
/* always used in conjunction with sbspanel                   */
.fixed-width {
    align-items: center;
}

/* captions, centered until word-wrapped */
.sbscaption {
/*
    display: flex;
*/
    justify-content: center;
}





table {
    border-spacing: 0;
}

table {
    border-collapse: collapse;
}

table tr td {
    padding-top: 2px;
    padding-bottom: 2px;
    padding-left: 5px;
    padding-right: 5px;
    font-size: 90%;
}

table tr td.l {
    text-align: left;
}
table tr td.c {
    text-align: center;
}
table tr td.r {
    text-align: right;
}
table tr td.j {
    text-align: justify;
}
table tr td.lines {
        white-space: nowrap;
}


table tr td.t {
    vertical-align: top;
}
table tr td.b {
    vertical-align: bottom;
}
table tr td.m {
    vertical-align: middle;
}

table tr td.vv {
    border-left: 2px solid #000;
    border-right: 2px solid #000;
}

table tr td.vcv {
    border-left: 2px solid #000;
    border-right: 2px solid #000;
    text-align: center;
}

table tr td.vcvv {
    border-left: 2px solid #000;
    border-right: 4px solid #000;
    text-align: center;
}

table tr td.vlv {
    border-left: 2px solid #000;
    border-right: 2px solid #000;
    text-align: left;
}

table tr td.vrv {
    border-left: 2px solid #000;
    border-right: 2px solid #000;
    text-align: right;
}

table tr td.rv {
    border-right: 2px solid #000;
    text-align: right;
}

table tr td.vr {
    border-left: 2px solid #000;
    text-align: right;
}

table tr td.lv {
    border-right: 2px solid #000;
    text-align: left;
}

table tr td.vl {
    border-left: 2px solid #000;
    text-align: left;
}
table tr td.cv {
    border-right: 2px solid #000;
    text-align: center;
}

table tr td.Xv {
    border-right: 2px solid #000;
    text-align: left;
}

table tr td.vc {
    border-left: 2px solid #000;
    text-align: center;
}

table tr td.hline {
    padding: 0;
}

table tr td.hlinethick {

    padding-left: 0px;
    padding-right: 0px;

}

table tr td.hline hr  {

    margin-top:0;
    margin-bottom:0;
    margin-left: -1px;
    margin-right: -1px;
    border: 1px solid rgb(0,0,0);

}

table tr td.hlinethick hr  {

    margin-top:0;
    margin-bottom:0;
    margin-left: -1px;
    margin-right: -1px;
    border: 2px solid rgb(0,0,0);

}


.center table { 
    text-align: center;
    margin-left: auto;
    margin-right: auto;
}


table tr td.b1 {
    border-bottom: 1px solid #000;
}
table tr td.b2 {
    border-bottom: 2px solid #000;
}
table tr td.b3 {
    border-bottom: 3px solid #000;
}
table tr td.b0 {
    border-bottom: none;
}

table tr td.t1 {
    border-top: 1px solid #000;
}
table tr td.t2 {
    border-top: 2px solid #000;
}
table tr td.t3 {
    border-top: 3px solid #000;
}
table tr td.t0 {
    border-top: none;
}

table tr td.r1 {
    border-right: 1px solid #000;
}
table tr td.r2 {
    border-right: 2px solid #000;
}
table tr td.r3 {
    border-right: 3px solid #000;
}
table tr td.r0 {
    border-right: none;
}


table tr td.l1 {
    border-left: 1px solid #000;
}
table tr td.l2 {
    border-left: 2px solid #000;
}
table tr td.l3 {
    border-left: 3px solid #000;
}
table tr td.l0 {
    border-left: none;
}

table tr td p + p {
    margin-top: 1em;
}

table + p {
    margin-top: 1.5em;
}

table tr td span.decimal {
    float: left;
    text-align: right;
}

table + article {
    margin-top: 1em;
}

.hidden-knowl-wrapper .hiddenproof,
section > article.hiddenproof  {
    margin-top: 0.3em;
}

.hidden-knowl-wrapper article {
    display: inline;
}

/*
.hiddenproof > .heading::after {
    content: "."
}
*/

.amathbook-content figure.figure-like {
    overflow: auto;
}
figure.figure-like {
    margin-left: auto;
    margin-right: auto;
}
p + figure.figure-like > table {
    margin-top: 1em;
}
/*
.sbscaption {
    width: 100%! important;
}
*/

figure.figure-like figcaption {
    overflow: hidden;
}

/* not sure where this was being used, but it made short knowls
 * look bad, like the hint here:
 * SAFurtherReading.html
.knowl-output .knowl-content {
    margin-bottom: 0.5em;
}
*/

/*
tt {
    font-size: 1.4em;
    font-size: 110%;
    margin-left: 0.2em;
    margin-right: 0.2em;
}
*/
a > tt {
    font-size: 110%;
}

section .videolink a:link {
    background-size: 0;
}

.exercise-like ol li table {
    margin-bottom: 0.5em;
}

.exercise-like > ol li + li {
    margin-top: 0.5em;
}
.solution > ol li + li {
    margin-top: 0.5em;
}

/* this should be obsolete, because the permalink is outside of the .heading */
section .heading a.permalink {
    opacity: 0.1;
    font-size: 70%;
    color: #d00;
    display: inline-block;
}

section .heading {
  display: inline-block;
}
section .heading + a.permalink {
    opacity: 0.2;
    color: #d00;
    font-weight: bold;
    display: inline-block;
    margin-left: 0.5em;
}
section section .heading + a.permalink {
    font-size: 90%;
}
section section section .heading + a.permalink {
    font-size: 80%;
}

.heading a.permalink:hover {
    opacity: 1;
    color: #a32;
}

/*
.heading a.permalink:hover:after {
    opacity: 1;
}
*/

.heading a.permalink:focus {
    opacity: 1;
    color: #a32;
}
/*
.heading a.permalink:focus:after {
    opacity: 1;
}
*/

.mininav {
    float: left;
    padding-top: 0.7ex;
    padding-left: 1ex;
}
.indexnav {
    margin-left: 1.5ex;
    margin-top: 0.2ex;
    padding-top: 0;
/*    display: inline;
 *      *    */
    float: left;
    line-height: 0.95;
}

.indexnav a {
    padding-left: 2.5px;
    width: 2.5ex;
/*
 *  *  omitted, because we put a space in the source
 *      padding-right: 3px;
 *      */
    margin-right: -1px;
    color: inherit;
    font-size: 80%;
    display: inline-block;
    text-align: center;
}
.indexnav a::after{
    content: "";
    display: inline-block;
}
.indexnav a:nth-of-type(14){
    padding-left: 1.8ex;
}

.indexnav a:hover {
    background: #eeaaff;
}



.indexitem {
    margin-top: 2px;
}

.subindexitem {
    margin-left: 2em;
    font-size: 95%;
    margin-top: -1px;
}

.subsubindexitem {
    margin-left: 3.5em;
    font-size: 95%;
    margin-top: -1px;
}

.indexknowl {
    margin-left: 0.11em;
}
em + .indexknowl  {
    margin-left: -0.25em;
}
.indexknowl a {
    margin-left: 2em;
}
.indexitem i,
.subindexitem i,
.subsubindexitem i {
    margin-left: 1em;
    margin-right: 0.25em;
}

/* temporary, to over-ride the misguided .indexitem i  above */
b i {
    margin: 0 !important;
}

.indexitem .see,
.subindexitem .see,
.subsubindexitem .see {
    margin-left: 1em;
    margin-right: 0.5em;
}

.indexitem .indexknowl {
    font-size: 90%;
}

/*
.indexitem a {
    font-size: 90%;
}
*/

.indexitem [knowl], .subindexitem [knowl], .indexitem [knowl]:hover {
    padding-right: 2px;
    padding-left: 2px;
}
.indexknowl [knowl]:hover, .indexknowl .active[knowl] {
    margin-left: 2em;
}

.subindexitem .indexknowl {
    font-size: 95%;
}
.subsubindexitem .indexknowl {
    font-size: 95%;
}

/*
.indexletter {
    margin-top: 1em;
    font-size: 170%;
    font-weight: bold;
}
*/
.indexletter {
    margin-top: 1.5em;
}

/*
.indexknowl + .indexknowl{
    margin-left: 1em;
}
*/

/*
section #hk-exercise-essay article {
    display: inline;
}
*/

.hidden-knowl-wrapper .heading {
    display: inline;
}
.heading + .hidden-knowl-wrapper {
    display: inline;
}
/*
article .hidden-knowl-wrapper:first-of-type {
    display: inline;
}
article .hidden-knowl-wrapper {
    margin-top: 1em;
}
*/

.cols2 .knowl-output, .cols3 .knowl-output, .cols4 .knowl-output, .cols5 .knowl-output, .cols5 .knowl-output {
    width: 100%;
}

.cols2 + *, .cols3 + *, .cols4 + *, .cols5 + *, .cols6 + * {
    clear: both;
}
 /*
.cols2 > li:last-child, .cols3 > li:last-child, .cols4 > li:last-child, .cols5 > li:last-child, .cols6 > li:last-child{
    margin-bottom: 1.5em;
}
*/

section > ol:last-child,
section > ul:last-child {
    margin-bottom: 1.5em;
}

.cols2:last-child::after, .cols3:last-child::after, .cols4:last-child::after, .cols5:last-child::after, .cols6:last-child::after {
    content: "";
    display: block;
    clear: both;
}

.cols2 > li:nth-child(2n+1),
.cols3 > li:nth-child(3n+1),
.cols4 > li:nth-child(4n+1),
.cols5 > li:nth-child(5n+1),
.cols6 > li:nth-child(6n+1) {
    clear: left;
}
/* need to repeat for .colsN */
.exercise-like ol.cols2 li {
    margin-top: 0.5em;
}

.cols2 > li,
.cols3 > li,
.cols4 > li,
.cols5 > li,
.cols6 > li {
    float: left;
}

.cols2 > li { width: 49%; }
.cols3 > li { width: 33%; }
.cols4 > li { width: 24.5%; }
.cols5 > li { width: 19.5%; }
.cols6 > li { width: 16.3%; }

/* 1.25 = ol top + li top ?  looked too big with 0.75 below */
.exercise-like p + ol {  
    margin-top: 0.5em;
}
/*
.exercise-like ol {  
    margin-bottom: 0;
}
*/

.incontext {
    display: block;
    font-size: 85%;
    text-align: right;
/*    margin-bottom: -1.0em;
*/
}

.terminology {
  font-style: italic;
  font-weight: bold;
}

/* the "pink flash" when navigating to a target
*/
:target {
    -webkit-animation: target-fade 10s 1;
    -moz-animation: target-fade 10s 1;
}

@-webkit-keyframes target-fade {
    0% { background-color: rgba(120,0,120,.3); }
    100% { background-color: inherit;
           opacity: 1; }
}
@-moz-keyframes target-fade {
    0% { background-color: rgba(120,0,120,.3); }
    100% { background-color: inherit;
           opacity: 1; }
}

/*
.autoterm {
    display: inline;
}
*/

.autoterm [knowl], .autoterm [knowl]:after {
    font-weight: inherit;
    color: inherit;
    padding: 0;
    margin-bottom: inherit;
    border-bottom: inherit;
    border-bottom-color: inherit;
}

/*
.autoterm [knowl]:hover {
    background: inherit;
    border-bottom: inherit;
}

.autoterm [knowl]:hover {
    background: #eebbff;
    border-bottom: 1px dotted red;
}
*/

/*
.autoterm .active[knowl] {
    background: inherit;
}
*/

.autoterm [knowl]:hover {
    background: #ffddff;
    border-top: 2px dotted purple;
    border-bottom: 1px dotted red;
    border-top-left-radius: 0;
    border-top-right-radius: 0;
}

.has-sidebar-left #primary-navbar-sticky-wrapper .navbar-top-buttons .toolbar, .has-sidebar-left #primary-navbar .navbar-top-buttons .toolbar {
     border-right: 0;
}

#primary-navbar .toolbar.toolbar-divisor-3 > .toolbar-item:last-child, #primary-navbar-sticky-wrapper .toolbar.toolbar-divisor-3 > .toolbar-item:last-child {
    border-right: 1px solid #bababa;
}

ol li.custom-list-style-type {
    list-style-type: none;
}

ol li.custom-list-style-type:before {
     content: attr(label) "\00A0\00A0 ";
}

ol.decimal {
    list-style-type: decimal;
}
ol.lower-alpha {
    list-style-type: lower-alpha;
}
ol.upper-alpha {
    list-style-type: upper-alpha;
}
ol.lower-roman {
    list-style-type: lower-roman;
}
ol.upper-roman {
    list-style-type: upper-roman;
}
ul.disc {
    list-style-type: disc;
}
ul.square {
    list-style-type: square;
}
ul.circle {
    list-style-type: circle;
}
ol.no-marker,
ul.no-marker {
    list-style-type: none;
}

/* The dl should behave more like the default on a narrow screen,
 * with the term and definition on separate lines.
 */

dl.description-list {
    margin-left: 0;
}

dl dt {
        font-weight: bold;
}

dl.description-list dt {
    float: left;
    clear: left;
    text-align: right;
    width: 18ex;
}
dl.description-list dd {
    margin-left: 22ex;
}

dl.description-list dd dt {
    width: 14ex;
}
dl.description-list dd dd {
    margin-left: 18ex;
}

dl.description-list dd:after {
    content: "";
    display: block;
    clear: left;
}

dl.description-list-narrow {
    margin-left: 0;
}
dl.description-list-narrow dt {
    float: left;
    clear: left;
    text-align: right;
    width: 8ex;
}
dl.description-list-narrow dd {
    margin-left: 12ex;
}
dl.description-list-narrow dd:after {
    content: "";
    display: block;
    clear: left;
}

/*
#toc ul li.listprefix {
    list-style-type: none;
    display: inline-block;
}

#toc ul li.listprefix:before {
     content: attr(label) "\00A0\00A0 ";
     display: inline-block;
}
*/

/*
.knowl .definition-like:last-child, .knowl .theorem-like:last-child, .knowl .remark-like:last-child, .knowl .example-like:last-child, .knowl .exercise-like:last-child, .knowl .objectives:last-child {
    margin-bottom: 0.3em;
}
*/

/* to stop things being blue when rendering MathJax with SVG */
a.mjx-svg-href  {
    fill: inherit;
    stroke: inherit;
}

/* for long math formulas and tables to scroll on small screens */
@media screen and (max-width: 943px) {
  /* adapted from line 192, ../../../../../MathBook/mathbook-assets/scss/ui/mixins/_sliding-sidebars.scss */
  .mjx-chtml.MJXc-display {
    /*Allow users on smaller screens to scroll equations*/
    /*horizontally when they don't fit on the screen*/
    overflow-x: auto;
    overflow-y: hidden;
  }
  .figure-like {
    overflow-x: auto;
}
}

/* o show wide equation overflow even when no scroll bars,
from Jiří Lebl */
/*
.MJXc-display, .figure-like {
*/
.MJXc-display, .knowl-output .knowl-output .knowl-output .knowl-output .MJXc-display ,
pre.prettyprint,
pre.plainprint {
    background-image: linear-gradient(to right, white, white), linear-gradient(to right, white, white), linear-gradient(to right, rgba(0,0,0,.25), rgba(255,255,255,0)), linear-gradient(to left, rgba(0,0,0,.25), rgba(255,255,255,0));
    background-position: left center, right center, left center, right center;
    background-repeat: no-repeat;
    background-color: inherit;
    background-size: 20px 100%, 20px 100%, 10px 100%, 10px 100%;
    background-attachment: local, local, scroll, scroll;
}
.knowl-output .MJXc-display {
    background-image: none;
    background-image: linear-gradient(to right, #f5f5ff, #f5f5ff), linear-gradient(to right, #f5f5ff, #f5f5ff), linear-gradient(to right, rgba(0,0,0,.25), rgba(243,243,255,0)), linear-gradient(to left, rgba(0,0,0,.25), rgba(243,243,255,0));
}
.assemblage-like .MJXc-display {
    background-image: none;
    background-image: linear-gradient(to right, #f4f4fe, #f4f4fe), linear-gradient(to right, #f4f4fe, #f4f4fe), linear-gradient(to right, rgba(0,0,0,.25), rgba(242,242,254,0)), linear-gradient(to left, rgba(0,0,0,.25), rgba(242,242,254,0));
}


.knowl-output .knowl-output .MJXc-display {
    background-image: none;
    background-image: linear-gradient(to right, #fffff5, #fffff5), linear-gradient(to right, #fffff5, #fffff5), linear-gradient(to right, rgba(0,0,0,.25), rgba(255,255,243,0)), linear-gradient(to left, rgba(0,0,0,.25), rgba(255,255,243,0));
}
.knowl-output .knowl-output .knowl-output .MJXc-display {
    background-image: none;
    background-image: linear-gradient(to right, #fff5fe, #fff5fe), linear-gradient(to right, #fff5fe, #fff5fe), linear-gradient(to right, rgba(0,0,0,.25), rgba(255,243,254,0)), linear-gradient(to left, rgba(0,0,0,.25), rgba(255,243,254,0));
}


/*  http://sites.wcsu.edu/mbxml/OER_Linear_Alg/glossary.html
   to fix the extra margin on top of the next term when
   the previous definition ends in display math
   May need to make less specific
*/
dd .displaymath:last-child .MJXc-display {
    margin-bottom: 0;
}

.floatnav {
    margin-top: 8px;
    margin-left: 50px;
}

.floatnav a {
    padding-left: 3px;
/*
 *  omitted, because we put a space in the source
    padding-right: 3px;
*/
    margin-right: -1px;
    color: inherit;
}

/* to allow big math in knowl links */
/*
.hidden-knowl-wrapper a .mjx-chtml {
*/
/* main page of sample book */
/*
a .mjx-chtml {
    background: inherit;
}
*/
/* Example 4.8 of sample article (compare main page of sample book (4^{th} edition)`*/
a .heading .mjx-chtml {
    z-index: 1;
    background: #fff;
}
.hidden-knowl-wrapper [knowl]::after, .hidden-knowl-wrapper [knowl]:hover::after, .hidden-knowl-wrapper .active[knowl]::after {
    right: 7px;
}

.floatnav a:hover {
    background: #eeaaff;
}

.unselectable {  /* from Alex Jordan */
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none;   /* Chrome/Safari/Opera */
  -khtml-user-select: none;    /* Konqueror */
  -moz-user-select: none;      /* Firefox */
  -ms-user-select: none;       /* Internet Explorer/Edge */
  user-select: none;           /* Non-prefixed version, currently
                                  not supported by any browser */
}

/* Adapted from William Hammond (attributed to David Carlisle) */
/* "mathjax-users" Google Group, 2015-12-27 */

.latex-logo {font-family: "PT Serif", "Times New Roman", Times, serif;}

.latex-logo .A {font-size: 75%; text-transform: uppercase; vertical-align: .5ex;
         margin-left: -.48em; margin-right: -.2em;}

.latex-logo .E {vertical-align:-.5ex; text-transform: uppercase;
         margin-left: -.18em; margin-right: -.12em; }

/*
.posterior {
    margin-bottom: 1.25em;
}
*/

.fillin {
    display: inline-block;
    border-bottom-style: solid;
    border-width: 1px;
    margin-right: 0.1em;
    margin-bottom: -0.25em;
}

.exercisegroup {
    margin-bottom: 1.0em;
}
.exercisegroup article.exercise-like p {
    margin-top: 0.5em;
}
.exercisegroup article.exercise-like li > p:first-child {
    margin-top: 0;
}

.exercisegroup article.exercise-like .heading {
    margin: 0;
}
.exercisegroup .conclusion .heading {
    margin-top: 0.5em;
}
.exercisegroup .hidden-knowl-wrapper {
    margin: 0;
}
/*
.exercisegroup .exercise-like .heading + p:after {
    margin: 0;
}
.exercisegroup .introduction .heading + p:last-child {
    margin-bottom: 0.5em;
}
*/
.exercisegroup article + article {
    margin-top: 1em;
}

.exercises .exercise-like figcaption .heading {
    font-weight: bold;
    font-size: inherit;
}
/* for titles on APEX WW exercises, but should make sense for other exercises */
.exercises .exercise-like .heading {
    font-weight: normal;
    font-size: inherit;
}

/* http://spot.pcc.edu/math/APEXCalculus/sec_interp_deriv.html */
.exercisegroup > article,
.exercisegroup-exercises > article {
    margin-left: 2em;
}
.exercisegroup > .introduction,
.exercisegroup > .conclusion {
    margin-left: 0;
}

.exercisegroup article + .hidden-knowl-wrapper {
    margin-left: 4em;
}

/* make it look like a list, and have entra indenting when already more indented */
.exercise-like .introduction + .hidden-knowl-wrapper,
.exercise-like .conclusion {
    margin-left: 1.0em;
}
.exercisegroup .exercise-like .introduction + .hidden-knowl-wrapper,
.exercisegroup .exercise-like .conclusion {
    margin-left: 1.5em;
}
section > .hidden-knowl-wrapper {
    margin-top: 1em;
}

/*
.exercisegroup article.exercise-like:not(:first-child) {
    margin-top: 0em;
}
*/

.exercisegroup > .conclusion {
    margin-left: 1.5em;
}

/*
.exercise-like .hint {
    display: block;
    margin-top: -0.75em;
}
*/

.exercise-like .introduction {
    display: inline;
}
.exercise-like .introduction .heading {
    display: inline;
}
.exercise-like .introduction p:first-child {
    display: inline;
}
.exercise-like .introduction::after {
    content: "";
    display: block;
/*
    margin-bottom: 0.25em;
*/
}
.exercise-like .conclusion::before {
    content: "";
    display: block;
    margin-top: 0.25em;
}


/*
.example-like .hint {
}
*/
/*
.example-like, .exercise-like {
  margin: 1.25em 0;
}
*/

/* if hints and solutions are in .posterior, then
 * some of the above styling does not apply */

article.exercise-like + .posterior {
    margin-top: -0.75em;
}


article.example-like .hint {
    display: block;
    margin-top: -0.75em;
}


.exercisegroup .exercisegroup-exercises.cols2, .exercisegroup .exercisegroup-exercises.cols3, .exercisegroup .exercisegroup-exercises.cols4, .exercisegroup .exercisegroup-exercises.cols5, .exercisegroup .exercisegroup-exercises.cols6 {
    width: 100%;
    display:inline-flex;
    flex-direction:row;
    flex-wrap:wrap;
    justify-content:flex-start;
    align-items:flex-start;
    align-content:flex-start;
}

.exercisegroup .exercisegroup-exercises.cols1 {
    display:inline;
}

.exercisegroup .exercisegroup-exercises.cols1 .knowl-output {
    display: block;
}

/*
.exercisegroup .exercisegroup-exercises article.exercise-like {
    margin-top: 0;
}
*/

.exercisegroup .cols1 > article.exercise-like {flex-basis: calc(100% - 2em);}
.exercisegroup .cols2 > article.exercise-like {flex-basis: calc(50% - 2em);}
.exercisegroup .cols3 > article.exercise-like {flex-basis: calc(33.33% - 2em);}
.exercisegroup .cols4 > article.exercise-like {flex-basis: calc(25% - 2em);}
.exercisegroup .cols5 > article.exercise-like {flex-basis: calc(20% - 2em);}
.exercisegroup .cols6 > article.exercise-like {flex-basis: calc(16.66% - 2em);}
/*
.exercisegroup .cols3 article.exercise-like {flex-basis: calc(100% / 3 - 2em);}
.exercisegroup .cols6 article.exercise-like {flex-basis: calc(100% / 6 - 2em);}
*/


.code-inline,
.code-block,
.console {
    font-family: "Inconsolata", monospace;
}
.code-inline {
    font-size: 1em;
/*    line-height: 1.38889em;
*/
    white-space: nowrap;
    color: inherit;
    background: #eeeeee;
    border: 1px solid #dddddd;
    padding: 0.0625em 0.25em;
    margin-left: 0.2em;
    margin-right: 0.2em;
    -webkit-border-radius: 0.2em;
    -moz-border-radius: 0.2em;
    -ms-border-radius: 0.2em;
    -o-border-radius: 0.2em;
    border-radius: 0.2em;
}
.title .code-inline {
    padding-left: 0;
    padding-right: 0;
    margin-left: 0;
    margin-right: 0;
}

.sagecell_sessionOutput pre {
    font-family: 'Inconsolata', monospace;
}

.sagecell {
    margin-bottom: 1.25em;
}

.assemblage-like {
    border: solid 2px #1100AA;
    border-radius: 12px;
    padding: 10px;
    background-color: #f4f4fe;
}

.assemblage-like .heading {
    margin-top: 0;
}

.assemblage-like + .sidebyside {
    margin-top: 1.25em;
}

.booktitle {
    font-style: oblique;
}

.poem {
    margin-top: 1.5em;
}

/* when hidden in a knowl, don't need the space at the end */
article > a > .heading > .title:not(.punctuated):last-child::after {
    content: ".";
}

article > .heading .type:last-child::after,
article > .heading .codenumber:last-child::after,
article > .heading .title:not(:empty):not(.punctuated):last-child::after {
    content: "";
}
.aside-like > .heading .type:last-child::after,
.aside-like > .heading .codenumber:last-child::after,
.aside-like > .heading .title:not(:empty):not(.punctuated):last-child::after {
    content: ":\2009 ";
}

.aside-like > .heading .title:empty::after {
    content: "";
}

a article > .heading .codenumber:not(:empty)::after {
    content: ": \2009";
}

.hiddenproof > .heading .type:after, .hiddenproof > header > .heading .type:after {
  content: "";
}

.exercise-like > .heading .codenumber:not(:empty):after {
    content: "\2009 ";
}

.objectives > .heading {
    font-size: 1.25em;
}

/* Born-hidden example with a very long title */
/* http://physics.thomasmore.edu/ConnectedPhysics/sss-netforce.html */
a .heading {
    white-space: normal;
}


.solutions a, .solutions a:hover, .solutions a.active {
    display: inline-block;
    margin-right: 1em;
}

.solutions .solution .type + .codenumber {
    margin-left: 0.4em;
}
.solutions .solution .title:last-child {
    margin-left: 0.2em;
    font-size: 90%;
}
.solutions .solution .title:last-child::before {
    content: "(";
}
.solutions .solution .title:last-child::after {
    content: ")";
}

/* omitting, because Historical notes end with a code number,
   which gets an ". " :after, so there was a double dot.  If this
   needs to be put back, then also fix the double dot problem
   http://sl2x.aimath.org/book/aafmt/section9-3.html  (at end)
.aside-like > .heading:not(:empty):after {
    content: ".\2009 ";
}
*/



/* these were taken from the local add-on.css.
 * need to check if the are needed.
 */

body, html body { background: #fff; }

figure {
    margin-top: 0.5em;
}
article > figure:first-child {
    margin-top: 0;
}

figure + figure,
figure + .sidebyside,
.sidebyside + .sidebyside,
.sidebyside + figure {
    padding-top: 1.0em;
}


img {
    display: inline-block;
    margin-left: auto;
    margin-right: auto;
}

/* is .cs for commutative diagrams? */
img.cs {
    display: block;
    margin-top: 20px;
    margin-bottom: 20px;
    margin-left: auto;
    margin-right: auto;
}

img:not(.cs) {
    max-width: 550px;
}

table tr td img {
    max-width: 200px;
    margin-right: 30px;
}

table tr td.lines {
    	white-space: nowrap;
}

figure img {
    display: block;
    margin-left: auto;
    margin-right: auto;
}

figure img + img {
    margin-top: 30px;
}

div.center img {
    display: block;
    margin-left: auto;
    margin-right: auto;
}

div.center + div.center > img {
    margin-top: 60px;
}

div.center > img + img {
    margin-top: 60px;
}

figure table {
    margin-left: auto;
    margin-right: auto;
}

.caption {
    margin-top: 10px;
    margin-left: auto;
    margin-right: auto;
    font-size: 100%;
    text-align: center;
}


figure.wrap img {
    width: 250px;
}
figure.wrap {
    float: right;
    margin-right: 0;
    margin-left: 30px;
}
figure img.wrap {
    float: right;
    margin: 0;
}

figure figcaption.wrap {
    margin: 10px;
    font-size: 100%;
    text-align: center;
}

.sbspanel > img:not(.draw_on_me):not(.mag_popup),
figure > img:not(.draw_on_me):not(.mag_popup) {
    cursor: zoom-in;
}
img.mag_popup {
    border: 1px solid #666;
    box-shadow: 5px 10px 5px #999;
    cursor: zoom-out;
    max-width: 600px;
    margin-right: 50px;
}
.mag_popup_container {
    width:100%;
    position:absolute;
    z-index:1001;
    overflow-x: auto;
}

.caption .counter:after { content: " ";}

/* above repeated for captions outside figures */

.caption .heading {
    font-weight: bold;
}

.caption .heading:after { content: " ";}

.caption .counter {
    font-weight: bold;
}

figcaption .counter:after { content: " ";}

div.quote {
    padding-left: 40px;
    padding-right: 10px;
    margin-bottom: 1em;
}

.minipage  + .minipage {
    display: inline-block;
}

code.inline {
    background: none;
    border: none;
}

/* sup knowls are used for footnotes */
sup [knowl] {
    padding: 0px 0px 0px 3px;
}

sup .active[knowl] {
    padding: 0px 0px 0px 3px;
}

sup [knowl]:hover {
    padding: 0px 0px 0px 3px;
}

/*
.proof > .heading:after {
    content: ".";
}
*/

pre.prettyprint,
pre.plainprint {
    margin-top: 0;
    padding-left: 15px;
    border-left: 1px solid #aaa;
    font-size: 93%;
    overflow: auto;
/* preveiously turned off the border and padding from pretty.css */
}

pre.prettyprint:before,
pre.plainprint:before {
    content:'';
    border-top: 1px solid #aaa;
    display: block;
    margin-right: auto;
    margin-left: -15px;
    padding-bottom: 0.25em;
    width: 2.5em;
}

/*
article.example-like > *:last-child {
    margin-bottom: 0;
}
article.example-like > *:last-child::after {
    margin-bottom: 0;
}
*/
/* List 12.3 at http://pretextbook.org/examples/sample-article/html/section-12.html
 [[put somethign here]]
article.example-like + .posterior {
    margin-top: -0.75em;
}
 */

/*
article.proof > *:last-child {
    margin-bottom: 0;
}
article.proof > *:last-child::after {
    margin-bottom: 0;
}

article.definition-like *:last-child {
    margin-bottom: 0;
}
article.definition-like *:last-child::after {
    margin-bottom: 0;
}
*/

.objectives {
    margin-bottom: 1.25em;
}

article.objectives .heading .type + .codenumber:before {
    content: " ";
}
article.objectives .heading .type + .title:before {
    content: ":\2002";
}
article.objectives .heading .codenumber + .title:before {
    content: ":\2002";
}

article.list .heading .type + .codenumber:before {
    content: " ";
}
article.list .heading .type + .title:before {
    content: ":\2002";
}
article.list .heading .codenumber + .title:before {
    content: ":\2002";
}

/*
article.theorem-like *:last-child, article.objectives *:last-child { 
    margin-bottom: 0;
}
article.theorem-like *:last-child::after, article.objectives *:last-child::after {
    margin-bottom: 0;
}

article.remark-like > *:last-child {
    margin-bottom: 0;
}
article.remark-like > *:last-child::after {
    margin-bottom: 0;
}
*/

/* Since there can be p which are nearby but not siblings,
   let's put background and (but not box shadow) on everything */

/* see start of file
p, .heading {
    background: #fff;
}
*/

/*
  OLD VERSION: see new version above

.aside-like ~ *:not(.aside-like) p, .aside-like ~ *:not(.aside-like) .heading {
    background: #fff;
    box-shadow: 3em 0 0 0 #fff;
}
.aside-like ~ *:not(.aside-like) .knowl-output p {
    background: inherit;
    box-shadow: none;
}
*/

/* next selector first part of the following is due to the mistake of
   putting paragraph spacing in the margin-bottom 
   Redo when we fix that error */
.aside-like {
    margin-top: -1.25em;
    position: absolute;
    margin-left: 45%;
    z-index: -10;
    overflow-x: hidden;
    max-width: 495px;
    max-height: 7em;
    overflow-y: hidden;
    border: none;
    padding: 2px 10px;
    color: #888;
}
.example-like .aside-like {
    margin-top: 0;
    position: absolute;
}
.aside-like {
    font-size: 90%;
}
.aside-like {
  margin-bottom: 5px;
  background-color: #f5faff;
  box-shadow: 0 0 1.0em 0.2em #fff inset;
}
.aside-like:first-child {
    margin-top: -2.25em;
}
.aside-like:after {
  content  : "";
  position : absolute;
  z-index  : 1;
  top   : 0em;  
  bottom   : 0;
  left     : 0;
  pointer-events   : none;
  background-image : linear-gradient(to bottom, 
                    rgba(255,255,255, 0.4), 
                    rgba(255,255,255, 1) 90%);
  width    : 550px;
  height   : 8em;
}
/* example of where the following is needed? */
.aside-like * {
    background-color: #f5faff !important;
}
.aside-like.front, .example-like .aside-like.front {
  position: relative;
  z-index: 0;
  padding: 8px 15px 10px 15px;
  padding: 2px 10px;
  margin: 5px 0px 5px 10px;
  border: 2px solid #dcebfa;
  max-height: none;
  max-width: 550px;
  color: inherit;
  font-size: 100%;
  box-shadow: none;
}
.aside-like.front:after, .example-like .aside-like.front:after {
    background-image: none;
}
.example-like .aside-like.front {
    margin-top: 1.25em;
}

.aside-like.front + p{
    margin-top: 1.25em !important;
    padding-top: 0;
}



.aside-like .aside-like {
  background-color: #fafff5;
  border: 1px dotted #aaa;
}

article.aside-like > p:first-child {
    margin-top: 0;
}
/*
article.aside-like > *:last-child {
    margin-bottom: 0;
}
article.aside-like > *:last-child::after {
    margin-bottom: 0;
}
*/
/*
.aside-like {
    margin-bottom: 1.25em;
}
*/

.aside-like > .heading {
    font-size: 95%;
}

.aside-like + *{
    margin-top: 3em !important;
    box-shadow: 0 0 0.5em 0.2em #fff;
    margin-right: 3em;
}

/* for + ul p see http://physics.thomasmore.edu/ConnectedPhysics/ss-NII.html */
/*  subsumed by general background at start
.aside-like + p, .aside-like + ul p, .aside-like + ol p{
    background: #fff;
    box-shadow: 2em 0 1em 0.0em #fff;
}
*/

/* on sufficiently large screens, there is enough of a margin to see part of the aside */

@media screen and (min-width: 943px) {
  .aside-like + * {
      margin-right: 0;
  }
}

/* on a wide screen, asides should appear in the right margin */
@media screen and (min-width: 1100px) {
  .aside-like, .aside-like.front, .example-like .aside-like, .example-like .aside-like.front {
      position: absolute;
      margin-top: -2em;
      margin-left: 660px;
      max-width: 200px;
      color: inherit;
  }
  .aside-like.front, .example-like .aside-like.front {
      max-height: none;
      max-width: 223px;
      border: 2px solid #dcebfa;
}
  .example-like .aside-like, .example-like .aside-like.front {
      margin-left: 654px;  /* because .example-like has 6px of padding */
  }

  .aside-like + * {
      margin-top: 1.25em !important;
  /*    background: none;  */
      box-shadow: none;
      margin-right: 0;
  }

  .aside-like.front:after, .example-like .aside-like.front:after {
    background-image: none;
  }

  .aside-like:nth-of-type(3n+1) {
    margin-left: 660px;
}
  .aside-like:nth-of-type(3n) {
    margin-left: 680px;
}
  .aside-like:nth-of-type(3n+2) {
    margin-left: 640px;
}
}

/* on a narrow screen, collapsed asides should only be one line tall */
/* was too hard to see/poke
@media screen and (max-width: 480px) {
.aside-like {
    margin-top: -1.25em;
}
.example-like .aside-like {
    margin-top: -1em;
  }
.aside-like + *{
    margin-top: 1.5em !important;
}
.aside-like + article, .aside-like + ul, .aside-like + ol {
    margin-top: 2.5em !important;
}
}
*/

.aside-like:hover:after, .aside-like:focus:after {
    top: 3em;
    height: auto;
    background-image : none;
}
/* redundant
.aside-like.front:hover:after, .aside-like.front:focus:after {
    background-image: none;
}
*/

.aside-like:hover, .aside-like:focus {
    color: inherit;
    padding: 0 8px;
    border: 2px solid #dcebfa;
    height: auto;
    max-height: none;
}
.aside-like.front:hover, .aside-like.front:focus {
    padding: 2px 10px;
}

/* find a better way to handle asides in content that has a wide left margin */
/* see http://pretext.jahrme.com/aside-in-knowl/section-1.html */
section dl dd .aside-like {
    margin-top: 0 !important;
    margin-left: 100px !important;
}
section dl dd .aside-like.front {
    margin-left: -300px !important;
}

ol > li {
    padding-left: 0.25em;
}
/*
ol.cols2 > li { width: calc(49% - 0.25em) !important; }
*/
ol.cols2 > li, ul.cols2 > li { width: calc(49% - 1.75em) !important; }
ol.cols3 > li { width: calc(33% - 0.25em) !important; }
ol.cols4 > li { width: calc(24.5% - 0.25em) !important; }
ol.cols5 > li { width: calc(19.5% - 0.25em) !important; }
ol.cols6 > li { width: calc(16.3% - 0.25em) !important; }
/* sample-article sec 5 */
/*
ul.cols2 > li p, ol.cols2 > li p {
   padding-right: 0.5em;
}
*/
ul.cols2 > li, ol.cols2 > li {
   padding-right: 1.5em;
}

/* see http://bob.cs.sonoma.edu/IntroCompOrg-RPi/exercises-10.html
  for examples of an odd number of items in a cols2, followed by
  a hint */
.cols2 > li:last-child:nth-child(odd) {
    float: none !important;
    padding-top: 0.5em;
}


/* http://spot.pcc.edu/math/APEXCalculus/sec_prod_quot_rules.html
 * solution to Example 2.4.14
 */
.solution ol li { 
    margin-top: 1em;
    padding-left: 0.5em;
}

/* solution to Example 4.2.12 in http://spot.pcc.edu/math/orcca-draft/orcca/section-radical-expressions-and-rational-exponents.html
*/
.solution ol li > p:first-child, .solution ol li > .displaymath:first-child {
    vertical-align: top;
    display: inline-block;
    margin-top: 0;
}
.solution ol li > .displaymath:first-child .MJXc-display {
    margin-top: 0;
}


.exercise-like ol li {
    margin-top: 1em;
    padding-left: 0.5em;
}
/* The !important is to over-ride legacy inline widths */
.exercise-like .cols2 > li { width: calc(49% - 0.5em) !important; }
.exercise-like .cols3 > li { width: calc(33% - 0.5em) !important; }
.exercise-like .cols4 > li { width: calc(24.5% - 0.5em) !important; }
.exercise-like .cols5 > li { width: calc(19.5% - 0.5em) !important; }
.exercise-like .cols6 > li { width: calc(16.3% - 0.5em) !important; }

.exercisegroup .cols2 > article > ol > li:first-child {
    margin-top: 0;
}

.exercise-like ol li p {
    vertical-align: top;
    display: inline-block;
    margin-top: 0;
}

/* http://pretextbook.org/beta/contibutor-list-20161130/preface-2.html
 * */

.contributor .contributor-name {
    font-variant: small-caps;
}
.contributor .contributor-info {
    font-size: 88%;
    font-style: italic;
    margin-left: 3ex;
}
.contributor {
    margin-top: 3ex;
}
.contributor + .contributor {
    margin-top: 1.5ex;
}

.contributor + p {
    margin-top: 3ex;
}

.frontmatter .contributors, .book .contributors {
    text-align: center;
    font-style: normal;
}


.searchwrapper {
    max-width: 900px;
    position: absolute;
    right: 0;
    bottom: 0; 
    margin-bottom: 39px; 
}
body.sidebar-left-closed .searchwrapper {
    margin-bottom: -2px; 
}

body.sidebar-left-open .searchwrapper {
    top: 74px;
}

/* bottom: 0;
 *  * */

body.sidebar-left-closed .searchwrapper {
    top: 74px;
    margin-bottom: -2px;
}


@media screen and (max-width: 800px) {
body.sidebar-left-closed .searchwrapper {
    top: 129px;
}
}

@media screen and (max-width: 480px) {
body.sidebar-left-closed .searchwrapper {
    top: 174px;
}
}


.searchwrapper .cse .gsc-control-cse, .searchwrapper .gsc-control-cse  {
    padding: 0;
    border: none;
    width: 25ex;
}
.searchwrapper .cse .gsc-search-button input.gsc-search-button-v2, .searchwrapper input.gsc-search-button-v2 {
    padding: 2px 2px;
}
.searchwrapper form.gsc-search-box {
    margin: 0;
}
.searchwrapper table.gsc-search-box {
    margin: 0;
}
.searchwrapper .gsc-search-box-tools .gsc-search-box .gsc-input {
    padding: 0;
}
.searchwrapper .gsib_a {
    padding: 0 0 0 5px;
}
.searchwrapper .gsc-input-box {
    height: 3.0ex;
}
.searchwrapper form.gsc-search-box {
    font-size: 12px;
}

/* turn off the green parentheses Alex does not like */
div.CodeMirror span.CodeMirror-matchingbracket {color: #090;}

.image-archive {
    margin-left: auto;
    margin-right: auto;
    margin-bottom: auto;
    margin-top: 0.75em;
    padding-bottom: 0.25em;
    text-align: center;
}
.image-archive > a {
    display: inline-block;
    padding-left: 0.5em;
    padding-right: 0.5em;
    font-family: monospace;
}
/*
.image-archive > a:not(:last-child) {
    padding-right: 1em;
}
.image-archive > a:not(:last-child):after {
    content: " ";
}
*/

/*
.sbspanel object {
*/
/*
.sbspanel object:not(:last-child) {
    margin-bottom: 0 !important;
}
*/

iframe {
    border: none;
}

.times-sign {
    font-size: larger;
    vertical-align: -0.15ex;
}
/* temporary for Mitch Keller.  delete at end of 2017 */
div.knowl .posterior div a:first-child {
    font-style: italic;
}
/* temporary for Geogebra development: replace with a more
  restrictive selector for articles */
article.notranslate {
    margin-top: 0;
}

/* sort of a hack for proof knows in theorem knowls */
div.knowl .posterior a[knowl]:first-child {
    padding: 0;
}


/*
nested tasks. see
http://pretextbook.org/examples/sample-article/html/interesting-corollary.html
*/

.exercise-like > .exercise-like {
    margin-left: 40px;
}
.exercise-like > .exercise-like p {
    margin-top: 1.25em;
/*    margin-bottom: 0.25em; */
}
/*
.exercise-like > .exercise-like > .heading + p::after {
    margin-bottom: 0.25em;
}
*/
.example-like > .heading + .introduction {
    display: inline;
}
.example-like > .heading + .introduction > p:first-child {
    display: inline;
}
.example-like > .exercise-like p {
    margin-top: 1.25em;
/*    margin-bottom: 0.25em;  */
}
/*
.example-like > .exercise-like > .heading + p::after {
    margin-bottom: 0.25em;
}
*/

/* not sure about these two.  there may be bad side-effects */
/*
.example-like p {
    margin-top: 1.25em;
}
.example-like ol, .example-like ul {
    margin-top: 1.25em;
}
.example-like > .heading + p::after {
    margin-bottom: 0.25em;
}
*/

/* end of nested tasks */

/* genus and species in italics */
.taxon {
    font-style: italic;
}

/* Sage stuff */
.sageanswer {
    font-family: monospace;
    white-space: pre;
    margin-left: 3em;
    margin-bottom: 2em;
} 
.sageanswer .key {
    display: inline-block;
    vertical-align: top;
    margin-right: 1em;
}
.sageanswer .output {
    display: inline-block;
    vertical-align: top;
}
.CodeMirror-code pre.CodeMirror-line {
    padding-bottom: 5px;
}

/* to enable hovering over aside-like */
/* div.page, main.main, body.mathbook-article, */
body.mathbook-book, body.mathbook-article, section.chapter, section.introduction, section.conclusion, section.section, section.subsection, section.subsubsection, article, #content{
    pointer-events: none;
}
html nav, html header, article.aside-like, *,
body.mathbook-book .MathJax_Menu, body.mathbook-article .MathJax_Menu {
    pointer-events: auto;
}
ol, ul {
    pointer-events: none;
}
ol li, ul li {
    pointer-events: auto;
}
div, span, button,
div, span, button {
    pointer-events: auto;
}

/* used when knowl content is hidden in the page */
.hidden-content {
    display: none;
}

/*
   See 10.1.8c in http://faculty.valpo.edu/calculus3ibl/ch10_01_gradient.html
and condider having this replace line 3338 of the general code (which uses .heading + p)
*/
.example-like > .exercise-like > p:first-of-type {
    display: inline;
}
.example-like > .exercise-like > .aside-like {
    margin-top: -3em;
}
.example-like > .exercise-like > .aside-like.front {
    margin-top: 0;
}

meta {
    display: none;
}

.summary-links {
    margin-top: 4em;
}
section + .summary-links {
    margin-top: 2em;
}
.summary-links ul {
    list-style-type:none;
}
.summary-links li {
    margin-top: 0;
}
.summary-links a {
  position: relative;
  display: block;
  font-size: 1.5em;
  line-height: 1.25em;
  padding: 0.41667em 0.83333em;
  margin-top: 0.20833em;
/*
  margin-bottom: 0;
*/
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  -ms-border-radius: 3px;
  -o-border-radius: 3px;
  border-radius: 3px;
  padding-right: 2.06667em;
}
.summary-links a:after {
  right: 0.83333em;
}
.summary-links a:after {
  content: "";
  position: absolute;
  /* center vertically */
  top: 50%;
  margin-top: -0.4em;
  width: 0;
  height: 0;
  border-top: 0.4em solid transparent;
  border-bottom: 0.4em solid transparent;
  border-left: 0.4em solid #c9c9c9;
}
.summary-links a, .summary-links a:link, .summary-links a:visited {
/*  color: #20477b; */
/*  background: #f0f0f0; */
  cursor: pointer;
}
.summary-links a:hover:after {
  width: 0;
  height: 0;
  border-top: 0.4em solid transparent;
  border-bottom: 0.4em solid transparent;
  border-left: 0.4em solid white;
}
.summary-links a {
  font-family: "PT Serif", "Times New Roman", Times, serif;
}
@media screen and (max-width: 480px) {
  .summary-links a {
    font-size: 1em;
    line-height: 1.25em;
  }
}
.summary-links a .codenumber {
/*  color: #707070; */
  margin-right: 0.41667em;
}


@media print {
    .navbar { display:none; }
    .has-sidebar-left #masthead #primary-navbar-sticky-wrapper { display:none; }
    .has-sidebar-left #masthead.smallbuttons {
        border:none;
    }
    .has-sidebar-left .page > #sidebar-left-sticky-wrapper { display:none; }
    .searchwrapper { display:none; }
    .has-sidebar-left.mathbook-loaded .page .main {
        margin-left:0;
        left:auto;
        border:none;
        box-shadow:none;
        padding: 0;
    }
    .has-sidebar-left.mathbook-loaded.sidebar-left-open .page .main #content { margin-top:0 }
    .has-sidebar-left.mathbook-loaded.sidebar-left-open .page .main #contentsection { margin-top:1em }
    .has-sidebar-left.mathbook-loaded.sidebar-left-open .page .main #contentsection .heading { margin-top:0 }
/*
    .has-sidebar-left.mathbook-loaded.sidebar-left-open .page .main {
        font-size: 0.85em;
    }
*/
}

/*
.has-sidebar-left.mathbook-loaded.sidebar-left-open .page .main { margin-left:0px; left:auto; }
*/

/* Colors for the above
.summary-links a, .summary-links a:link, .summary-links a:visited {
  color: #20477b;
}

.summary-links a:hover {
  color: white;
  background: #20477b;
}

.summary-links a .codenumber {
  color: #707070;

*/

/* COLORS */

/* delete the first one of both as obsolete */
a.xref,
a.internal {
    color: #900;
}
a.url,
a.external {
    color: #22a;
}

/*
To delete when moving to pretextbook.org:

all .hidden-knowl-wrapper
*/

.ui-dialog.ui-widget.ui-widget-content.ui-corner-all.ui-draggable.ui-resizable {
    left: 0 !important;
    top: 0 !important;
}
