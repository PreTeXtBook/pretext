<?xml version="1.0" encoding="UTF-8"?>

<!--   This file is part of the documentation of PreTeXt      -->
<!--                                                          -->
<!--    <pretext /> User's Guide                             -->
<!--                                                          -->
<!-- Copyright (C) 2013-2016  Robert A. Beezer                -->
<!-- See the file COPYING for copying conditions.             -->

<chapter xml:id="introduction">
    <title>Introduction</title>

    <section>
        <title>Overview</title>

        <p><pretext /> is a format for highly structured documents, such as reports, research articles, monographs or textbooks.  It is meant to cleanly separate content from presentation, much as promised by the popular typesetting languages <tex /> and <latex />.  It allows an author to focus on creating content and to be largely freed from thinking about production.  By capturing content in a highly structured form, it may be manipulated, produced, and distributed in a variety of formats, and especially in electronic formats that provide a better experience for readers than traditional print versions (though PDF output is possible as well).</p>

        <p>eXtensible Markup Language (XML) has an undeserved bad reputation.  When used as a data interchange format (one of its strengths) and generated by computer programs it can be exceedingly verbose.  We have taken a more practical approach.  XML, as a language, is very simple.  There are very few special characters, principally the angle brackets and backslash that make opening and closing elements.  By pairing opening and closing elements, and nesting these pairs, a hierarchical structure (a <term>tree</term>) can be described.  This is perfect for describing the chapters, sections and subsections of a book.</p>

        <p>An <term>XML application</term> is a collection of elements, meant to be arranged in the simple syntax of XML, according to certain rules.  <pretext /> is such an application, again with an eye to practicality.  If you have read many articles and books, you will recognize the elements and their roles.  We have kept the options simple, while still yielding quality output, in a variety of formats.  Furthermore, content entered in <pretext /> can be converted to future formats, so your work can easily adjust to new formats.</p>

        <p>Ready? Let's get started.</p>
    </section>

    <section>
        <title>Getting Started</title>

        <p>You will need a text editor that creates plain ASCII text.  <c>vi</c> and <c>emacs</c> are old favorites at the UNIX/Linux command line, various options exist for Windows or Mac OS.  Do not use a word processor, and make sure that your editor is set to output text with no formatting.</p>

        <p>Every <pretext /> document begins and ends with a <tag>mathbook</tag> opening and closing element.  Nested inside of that you can specify a <tag>book</tag> or an <tag>article</tag>.  Since an article is simpler, we will start with that, and talk about books in <xref provisional="section or chapter about books" />.  An article can have sections, so lets include an opening and ending <tag>section</tag> element so we have a section.  And a section is a sequence of paragraphs which are delimited by the <tag>p</tag>.  This is where much of the content goes, so add a sentence or two.  Your first document might now look like the following, notice that the indentation is a good habit to begin with now.</p>

        <pre>
        <![CDATA[<mathbook>
            <article>
                <section>
                    <p>A sentence inside a section of an article.</p>
                </section>
            </article>
        </mathbook>]]>
        </pre>

        <p>The article can have a title, and so can each section.  Many of the divisions of your document can be given titles, always in the same way.</p>

        <pre>
        <![CDATA[<mathbook>
            <article>
                <title>Taking <pretext /> for a Ride</title>
                
                <section>
                    <title>Introduction</title>

                    <p>A sentence inside a section of an article.</p>
                </section>

            </article>
        </mathbook>]]>
        </pre>

        <p>Notice that as we add more structure to our document, a few additional blank lines helps us see the divisions.  You should now be able to write a full article, with multiple titled sections, each containing multiple paragraphs.</p>
    </section>

    <section>
        <title>Processing</title>

        <p>Guidance on xsltproc at command line....</p>
    </section>

    <section>
        <title>Mathematics</title>

        <p>As the name implies, one of the strengths of <pretext /> is support for presenting mathematics.  (Though you do not need to use this feature to find <pretext /> beneficial.)  For print/PDF, <latex /> provides the rendering, and for web formats, MathJax provides the rendering.  All of this happens automatically if you know <tex /> and/or <latex /> syntax for actual mathematics.  We do not provide that basic knowledge here, you can find it many places and the examples below will give you a taste.</p>

        <p>If you want to include symbols or simple expressions and equations in running text (inline), wrap the expression in a <tag>m</tag> (<c>m</c> for <q>math</q>).  Do not use the traditional dollar signs, or any of <latex />'s begin/end environments.</p>

        <pre>
        <![CDATA[<p>The Pythagorean Theorem relates the lengths of the
        three sides of a right triangle, <m>a</m>, <m>b</m> and
        <m>c</m> by the equation <m>a^2 + b^2 = c^2</m>.</p>]]>
        </pre>

        <p>If you want an equation to be set off from the text and centered, then use the <tag>me</tag> in a similar manner (<c>me</c> for <q>math equation</q>).</p>

        <pre>
        <![CDATA[<p>The Pythagorean Theorem relates the lengths of the
        three sides of a right triangle, <m>a</m>, <m>b</m> and <m>c</m>
        <m>c</m> by the equation <me>a^2 + b^2 = c^2.</me></p>]]>
        </pre>

        <p>There are options to number equations, and to then reference them.  See <xref provisional="whole section on math" /> for a full discussion of writing mathematics.</p>

        <p>Sometimes you want to set off several lines of mathematics, and optionally align them some way.  Then use the <tag>md</tag> element (<c>md</c> for <q>math display</q>).  The twist now is that you need to identify exactly what content goes in each line by employing the <tag>mrow</tag> element (<c>mrow</c> for <q>math row</q>).  Do not use <latex />'s double backslash to mark the ends of lines.  You can provide alignment advice in the same manner as in <latex /> but you need to be very careful with ampersands since they are a special character in XML.  Again, see <xref provisional="whole section on math" /> for a full discussion of writing mathematics and <xref provisional="special characters section" /> for more on special characters.</p>

        <pre>
        <![CDATA[<p>The Pythagorean Theorem for a right triangle
        is a special case of the Law of Cosines for an arbitrary
        triangle.  Notice the similarities, <md>
            <mrow>c^2 &amp;= a^2 + b^2</mrow>
            <mrow>c^2 &amp;= a^2 + b^2 - 2ab\cos\theta</mrow>
        </md></p>]]>
        </pre>

        <p>You should now be able to write a full article, full of mathematics, organized with sections, beautifully typeset for print, PDF or the web.  One note: you can define <latex /> macros and employ them for both types of outputs.  Head off to <xref provisional="whole section on math" /> for details.</p>
    </section>

    <section>
        <title>Guide to the Guide</title>
        
        <p>Here is what you will find elsewhere in this user's guide.  Or if you are looking for something specific, here are some hints on where it might be.</p>

        <paragraphs>
            <title>The Basics</title>
            <p>Sectioning, simple markup, lists, figures, tables, philosophy (no bold!)</p>
        </paragraphs>

        <paragraphs>
            <title>Mathematics</title>
            <p>Macros, cross-references, alignment, amsmath, CDATA matrices</p>
        </paragraphs>

        <paragraphs>
            <title>Meta (Frontmatter and Backmatter)</title>
            <p>Authors, copyright, preface, references, index</p>
        </paragraphs>

        <paragraphs>
            <title>Books</title>
            <p>What's different</p>
        </paragraphs>

        <paragraphs>
            <title>Constructing Your Source</title>
            <p>Whitespace, escape characters, LaTeX considerations, etc</p>
        </paragraphs>

        <paragraphs>
            <title>Code</title>
            <p>Sage, doctests, other languages</p>
        </paragraphs>

        <paragraphs>
            <title>Layering</title>
            <p>Customization layers, CSS, options for presentation</p>
        </paragraphs>
<!--        
        <paragraphs>
            <title></title>
            <p></p>
        </paragraphs>
        -->
    </section>

</chapter>
